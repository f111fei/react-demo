<meta charset="utf-8"/> <textarea name="txt" id="m-gmob-module"> <div class="code"><input type="text" value="" class="txt txt-2 j-flag" placeholder="输入手机号"><a href="javascript:void(0);" class="j-flag btn btn-dark btn-sml">获取验证码</a> </div> <p class="stip">为了安全，我们会向你的手机发送短信校验码</p> <input type="text" value="" class="txt j-flag" placeholder="填写验证码"> <div class="err j-flag"></div> <div class="btnwrap"> <a href="javascript:void(0);" class="btn btn-white j-flag f-ff2">返回登录</a><a href="javascript:void(0);" class="btn btn-dark j-flag f-ff2">下一步</a> </div> </textarea> <textarea name="js">(function(){var byz=NEJ.P,cJO=NEJ.O,byA=byz("nej.e"),bm=byz("nej.u"),bj=byz("nm.x"),bp=byz("nm.d"),bY=byz("nm.m"),bC=byz("nm.m.g"),byx,byD;bC.rF=NEJ.C();byx=bC.rF.bS(bY.cW);byx.byG=function(){this.bCU="m-gmob";this.dg();var bg=byA.bV(this.bA,"j-flag");this.mA=bg[0];this.bAu=bg[1];this.oo=bg[2];this.gh=bg[3];this.mJ=bg[4];this.yt=bg[5]};byx.dq=function(blZ){this.dC(blZ);var bP=blZ.param||cJO;this.gH=bP.from||"regist";this.TX("获取验证码")};byx.byT=function(blZ){this.dO([[this.mA,"click",this.jp.byB(this,1)],[this.oo,"click",this.jp.byB(this,2)],[this.mA,"keypress",this.hE.byB(this)],[this.oo,"keypress",this.hE.byB(this)],[this.bAu,"click",this.bca.byB(this)],[this.mJ,"click",this.nS.byB(this)],[this.yt,"click",this.sm.byB(this)]]);this.cmx(blZ);document.mbody.className="n-login n-login-phone";this.bxg();this.mA.focus()};byx.eR=function(){this.bxg();this.byU()};byx.hE=function(byy){if(byy&&byy.keyCode!=13)return;this.sm()};byx.bca=function(byy){if(!!this.zy)return;var iI=this.vD();if(!iI)return;this.OA();bj.cHN(iI,this.ciQ.byB(this))};byx.ciQ=function(bn){var cE=bn.code;if(cE!=200){this.dm(2,bn&&bn.message?bn.message:"验证码获取失败")}};byx.OA=function(){byA.bK(this.bAu,"z-dis");this.zy=true;var cV=60;this.vw=setInterval(function(){cV--;this.bAu.innerText="00:"+(cV>=10?cV:"0"+cV);if(cV==0){this.TX("重新获取")}}.byB(this),1e3)};byx.TX=function(dN){this.vw=clearInterval(this.vw);byA.bJ(this.bAu,"z-dis");this.bAu.innerText=dN||"获取验证码";this.zy=false};byx.nS=function(){this.iw.dr("/m/login/mobile/")};byx.sm=function(){var iI=this.vD();if(!iI)return;var qU=this.KG();if(!qU)return;this.nV();var bh={cellphone:iI,captcha:qU};bj.cHM(iI,qU,this.cHh.byB(this))};byx.cHh=function(bn){var cE=bn.code;if(cE==503){this.dm(2,"验证码错误")}else if(cE==200){var bh={cellphone:this.vD(),captcha:this.KG()};ctl.host.cRF(bh,this.Lt.byB(this))}else{this.dm(3,"网络错误")}};byx.Lt=function(bn){var cE=bn.code;if(cE==200){var bAd={from:this.gH,mobile:this.vD(),captcha:this.KG(),nickname:bn.nickname||""};var hF={"-1":"/m/password/regist/?",1:"/m/regist/setting/?",2:"/m/password/reset/?",3:"/m/regist/setting/?"};if(bn.exist==2&&bn.hasPassword&&this.gH=="regist")bn.exist=3;if(this.gH!="regist"&&bn.exist==1)bn.exist=2;if(this.gH!="regist"&&bn.exist==3)bn.exist=2;var bts=hF[bn.exist];var Tn=[];bm.dP(bAd,function(bi,bD){Tn.push(bD+"="+bi)}.byB(this));this.iw.dr(bts+Tn.join("&"))}else{this.dm(3,"网络错误")}};byx.vD=function(){var dM=this.mA,iI=dM.value.trim();var If=bj.cRz(iI);if(!If){this.dm(1,"请输入正确的手机号码");return}return iI};byx.KG=function(){var dM=this.oo,qU=dM.value.trim();if(!qU){this.dm(2,"请输入验证码");return}return qU};byx.nV=function(bq){};byx.jp=function(bq){if(this.lY==bq)bj.iY(this.gh)};byx.bxg=function(bq){this.mA.value="";this.oo.value="";if(!this.vw)this.bAu.innerText="获取验证码";bj.iY(this.gh)};byx.dm=function(bq,fz){this.lY=bq;bj.iY(this.gh,fz)};bj.cU("/m/regist/mobile/",bC.rF)})()</textarea>