<meta charset="utf-8"/> <textarea name="txt" id="m-imob-module"> <div class="cnt cnt-2"> <div class="iptwrap"> <div class="itm itm-1 itm-1-1"> <input class="j-flag" name="account" type="text" placeholder="请输入手机号"> </div> <div class="itm itm-2"> <input class="j-flag" name="password" type="password" placeholder="请输入密码"> <a href="#/m/regist/mobile/?from=forget" class="fgt">重设密码</a> </div> </div> <div class="auto"> <label> <input type="checkbox" class="check j-flag" checked> <span>自动登录</span> </label> <span class="err f-fr f-tr f-thide j-flag"></span> </div> <div class="btnwrap"><a href="javascript:void(0);" class="btn btn-dark j-flag">登 录</a></div> </div> </textarea> <textarea name="js">(function(){var byz=NEJ.P,cJO=NEJ.O,co=NEJ.F,byA=byz("nej.e"),bi=byz("nej.v"),bm=byz("nej.u"),bj=byz("nm.x"),bTG=byz("nm.c"),bY=byz("nm.m"),bC=byz("nm.m.i"),byx,byD;bC.rF=NEJ.C();byx=bC.rF.bS(bY.cW);byx.byG=function(){this.bCU="m-imob";this.dg();var bg=byA.bV(this.bA,"j-flag");this.bzq=bg[0];this.it=bg[1];this.sN=bg[2];this.gh=bg[3];this.IA=bg[4];var byH=localCache.cg("host");if(byH&&byH.account){byH=byH.account;if(byH.type==1){this.bzq.value=byH.username;this.sN.checked=!!byH.remember}}this.pH=!0;bi.bM(bTG.beh,"login",this.AQ.byB(this))};byx.byT=function(blZ){this.dO([[this.bzq,"click",this.jp.byB(this,1)],[this.it,"click",this.jp.byB(this,2)],[this.bzq,"keyup",this.hE.byB(this)],[this.it,"keyup",this.hE.byB(this)],[this.IA,"click",this.oL.byB(this,true)]]);this.cmx(blZ);document.mbody.className="n-login n-login-phone";this.bxg();this.bzq.focus();this.bAh("unlock")};byx.eR=function(){this.bxg();this.byU()};byx.dq=function(blZ){this.dC(blZ);var dM=blZ.input||cJO;if(!!dM.autoLogin){this.bzq.value=dM.phone||"";this.it.value=dM.password||"";this.sN.checked=dM.remember||true;this.oL(true)}};byx.hE=function(byy){if(byy&&byy.keyCode!=13)return;this.oL(true)};byx.oL=function(Iq){if(!!Iq)this.pH=!0;var iI=this.bzq.value.trim(),fJ=this.it.value.trim();if(!iI){this.dm(1,"请输入手机号");return}if(!fJ){this.dm(2,"请输入登录密码");return}if(!bj.cRz(iI)){this.dm(1,"请输入11位数字的手机号");return}this.blN=fJ;var bh={type:1,username:iI,password:fJ,remember:this.sN.checked,md5:this.bwG,https:!!this.pH};if(this.bAZ)return;this.bAh("lock");ctl.host.bCv(bh)};byx.AQ=function(bn){if((bn||cJO).accountType!=1)return;var cE=(bn||cJO).code;this.bAh("unlock");switch(cE){case 200:var bAH=bn.loginOpt;delete bn.loginOpt;if(!!bAH&&bn.account){bn.account.remember=!!(bAH.data||{}).remember}if(!!bn.profile&&!!bn.profile.userId){ctl.host.bFK(bn,{remember:!!(bn.account||{}).remember});nej.cef.uD()}else{localCache.bSX("tempHost",bn);location.href="#/m/nickname/?from=mobile"}break;case 500:this.dm(2,"服务器错误");break;case 501:this.dm(1,"该手机号尚未注册");break;case 502:this.dm(2,"手机号或密码错误");break;case 304:this.dm(2,"用户禁止登录");break;case 509:this.dm(2,"密码错误超过限制");break;default:if(this.pH){this.pH=!1;this.oL()}else if(cE<0){this.dm(2,"网络异常，请检查网络")}else{this.dm(2,"未知错误["+cE+"]")}break}};byx.bAh=function(dS){switch(dS){case"lock":this.bAZ=!0;byA.bK(this.IA,"z-dis");break;case"unlock":this.bAZ=!1;byA.bJ(this.IA,"z-dis");break}};byx.jp=function(bq){if(this.lY==bq)bj.iY(this.gh)};byx.bxg=function(){bj.iY(this.gh)};byx.dm=function(bq,fz){this.lY=bq;bj.iY(this.gh,fz)};bj.cU("/m/login/mobile/",bC.rF)})()</textarea>