<meta charset="utf-8"/> <textarea name="txt" id="m-fmplay-module"> <div class="m-player m-player-fm f-dn"> <div title="播放" class="btnp btnp-play  f-vc f-cp j-flag" data-action="play"> <svg class="svg"><use xlink:href="orpheus://orpheus/style/res/svg/btmbar.sp.svg#play"></use></svg> </div> <div title="下一首" class="btnc btnc-nxt  f-vc f-cp j-flag" data-action="next"> <svg class="svg"><use xlink:href="orpheus://orpheus/style/res/svg/btmbar.sp.svg#next"></use></svg> </div> <time class="now j-flag">00:00</time> <div class="prg prg-ply f-vc"> <span class="track j-flag"></span> <span class="download j-flag" style="width:0%"></span> <span class="has j-flag" style="width:0%"> <span class="ctrl j-flag"></span> </span> </div> <time class="all j-flag">00:00</time> <div class="spk f-vc j-flag" title="静音" data-action="mute"> <svg class="svg"><use xlink:href="orpheus://orpheus/style/res/svg/btmbar.sp.svg#voice"></use></svg> </div> <div title="音量调节" class="prg prg-spk f-vc"> <span class="track j-flag"></span> <div class="hastrack"> <span class="has j-flag" style="width:0%"></span> </div> <div class="ctrlctrak" style="width:0%"><span class="ctrl j-flag"></span></div> </div> <div class="word f-vc f-cp j-flag" data-action="showlrc" title="打开歌词"> <svg class="svg"><use xlink:href="orpheus://orpheus/style/res/svg/btmbar.sp.svg#lrc"></use></svg> </div> </div> </textarea> <textarea name="js">(function(){var byz=NEJ.P,cJO=NEJ.O,byA=byz("nej.e"),bi=byz("nej.v"),bm=byz("nej.u"),cI=byz("nej.n"),bD=byz("nej.cef"),oO=byz("nej.cef.ut"),bj=byz("nm.x"),bU=byz("nej.ut"),cN=byz("nej.j"),bY=byz("nm.m"),bC=byz("nm.m.i"),qC=byz("nej.cef.ut"),bp=byz("nm.d"),bTG=byz("nm.c"),byx,byD;bC.cve=NEJ.C();byx=bC.cve.bS(bY.cW);byx.byG=function(){this.bCU="m-fmplay";this.dg();var bg=byA.bV(this.bA,"j-flag");this.lZ=bg[0];this.crS=bg[1];this.cvd=bg[2];this.cye=bg[3];this.cvc=bg[4];this.cvf=bg[5];this.coP=bg[6];this.cvg=bg[7];this.cpl=bg[8];this.cvh=bg[9];this.cvi=bg[10];this.cvj=bg[11];this.cpm=bg[12];this.cnR=true;this.cuX=byA.cg("main-player");var bTB=bj.cL(11,function(cJN){return!!(cJN.hw()||cJO).showLyric});this.hA({data:{cmd:bTB?"desklrcshowed":"desklrchidden"}})};byx.byT=function(blZ){this.cmx(blZ);this.dO([[bTG.MY,"onloadingstatechange",this.cFH.byB(this)],[bTG.MY,"onplayingstatechange",this.cFC.byB(this)],[bTG.MY,"onpositionchange",this.cvk.byB(this)],[bTG.MY,"afterswitch",this.cvl.byB(this)],[bTG.MY,"onloading",this.jG.byB(this)],[bTG.MY,"on",this.cvm.byB(this)],[bTG.MY,"off",this.cvn.byB(this)],[bTG.MY,"onmutechange",this.bhH.byB(this)],[bTG.MY,"onvolumechange",this.bhJ.byB(this)],[this.bA,"click",this.bqC.byB(this)]]);this.cax=bU.zT.bG({track:this.cye,progress:this.cvf,thumb:this.coP,onslidestop:this.cvo.byB(this),onslidechange:this.jz.byB(this)});this.VX=bU.zT.bG({track:this.cvh,progress:this.cvi,thumb:this.cvj,onslidestop:this.crQ.byB(this),onslidechange:this.crQ.byB(this)});this.dv=bp.gO.bG();var cq=this.dv.uh();this.crQ({ratio:cq.volume})};byx.cvl=function(byy){this.cvg.innerText=bj.AG(byy.current.duration/1e3)};byx.cvm=function(byy){var iq=this.bA;byA.bK(this.cuX,"f-dn");byA.bJ(iq,"f-dn");bD.dV(104).menu=!1};byx.cvn=function(byy){var cvr=this.cuX;byA.bK(this.bA,"f-dn");byA.bJ(cvr,"f-dn");bD.dV(104).menu=!0};byx.jG=function(byy){this.cvc.style.width=(byy.loaded/byy.total*100).toString()+"%"};byx.cvk=function(byy){if(this.Ws)return;this.Gn=byy.duration;this.cax.kn(byy.current/byy.duration);this.cvd.innerText=bj.AG(Math.floor(byy.current))};byx.cFC=function(byy){if(byy.playing){this.coT(true)}else{this.coT(false)}};byx.cFH=function(byy){if(byy.loading){byA.bK(this.coP,"z-dis")}else{byA.bJ(this.coP,"z-dis")}};byx.coT=function(cvt){if(cvt){byA.bEq(this.lZ,"btnp-play","btnp-pause");byA.bT(this.lZ,"action","pause");bj.cVV(this.lZ,"btmbar.sp.svg#pause");this.lZ.title="暂停"}else{byA.bEq(this.lZ,"btnp-pause","btnp-play");byA.bT(this.lZ,"action","play");bj.cVV(this.lZ,"btmbar.sp.svg#play");this.lZ.title="播放"}};byx.cvo=function(byy){this.Ws=!1;ctl.fmPlayer.kn(byy.ratio)};byx.jz=function(byy){if(this.Gn){this.Ws=!0;this.cvd.innerText=bj.AG(Math.floor(byy.ratio*this.Gn))}};byx.crQ=function(byy){ctl.fmPlayer.Fu(byy.ratio);byA.byW(this.cvj.parentNode,"width",byy.ratio*100+"%")};byx.dq=function(blZ){this.dC(blZ)};byx.eR=function(blZ){this.byU(blZ)};byx.bqC=function(byy){var bk=bi.cR(byy,"d:action");switch(byA.bT(bk,"action")){case"play":ctl.fmPlayer.rA();break;case"pause":ctl.fmPlayer.NT();break;case"next":if(this.cnR){ctl.fmPlayer.coX();this.cnR=false;setTimeout(function(){this.cnR=true}.byB(this),800)}break;case"mute":this.cuN(true);break;case"unmute":this.cuN(false);break;case"showlrc":bj.gM("/?/frame/foot/player/","showdesklrc");break;case"hidelrc":bj.gM("/?/frame/foot/player/","hidedesklrc");break}};byx.cuN=function(cqn){ctl.fmPlayer.cHX()};byx.bhH=function(byy){if(byy.mute){byA.bK(this.cpl,"z-silence");byA.lh(this.cpl,"title","恢复音量");byA.bT(this.cpl,"action","unmute")}else{byA.bJ(this.cpl,"z-silence");byA.lh(this.cpl,"title","静音");byA.bT(this.cpl,"action","mute")}};byx.bhJ=function(byy){this.VX.kn(byy.volume);this.dv.Zi("volume",byy.volume);byA.byW(this.cvj.parentNode,"width",byy.volume*100+"%")};byx.hA=function(byy){if(!byy||!byy.data||!byy.data.cmd)return;switch(byy.data.cmd){case"next":ctl.fmPlayer.coX("errorskip");break;case"desklrcshowed":byA.bK(this.cpm,"z-light");byA.bT(this.cpm,"action","hidelrc");break;case"desklrchidden":byA.bJ(this.cpm,"z-light");byA.bT(this.cpm,"action","showlrc");break}};bj.cU("/?/frame/fm/",bC.cve)})()</textarea>