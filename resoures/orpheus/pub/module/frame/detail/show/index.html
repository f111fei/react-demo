<meta charset="utf-8"/> <textarea name="txt" id="m-fdtt-module"> <div class="g-singlec" id="id-single"> <div class="n-single"> <div class="bg"> <div class="dftbg"></div> <div class="bgimg j-flag"></div> <div class="bgimg"></div> </div> <div class="wrap"> <div class="sd"> <div class="cd j-flag"> <div class="cdbg"></div> <div class="cdwrap q-anioff"> <div class="cdin"></div> <div class="cdimg"><img class="j-flag"></div> <div class="cdbox"></div> </div> <div class="cdrun"></div> </div> <div class="btns j-flag"></div> </div> <div class="mn j-flag"></div> </div> </div> <div class="g-bd2 f-cb"> <div class="g-sd2 j-flag"></div> <div class="g-mn2 j-flag"></div> </div> </div> </textarea> <textarea name="ntp" id="m-fdtt-comment"> <div class="n-shead"> <h2 class="u-tit f-ff2"><a class="j-flag" href="javascript:;">听友评论</a></h2> <span class="hdinfo s-fc4">（已有<span class="j-flag">0</span>条评论）</span> </div> <div class="j-flag"></div> <div class="m-more j-flag" style="padding-top:15px;text-align:right;"> <a href="javascript:;" class="s-fc3 j-flag">查看更多&gt;</a> </div> </textarea> <textarea name="jst" id="m-fdtt-btn-track"> <button class="z-off u-ibtn5 u-ibtn5-inplay u-ibtn5-loved {if islike}z-did{/if}" data-res-ext="playing" data-res-type="4" data-res-id="${track.id}" data-log-source="playdetail" data-res-action="{if islike}un{/if}like"> {if islike}${commonJST('com-svg', 'icon.sp.svg#btn_loved')}{else}${commonJST('com-svg', 'icon.sp.svg#btn_love')}{/if}喜欢 </button> <button class="z-off u-ibtn5 u-ibtn5-inplay" data-res-ext="playing" data-res-type="4" data-res-id="${track.id}" data-res-action="fav"> ${commonJST('com-svg', 'icon.sp.svg#btn_fav')}收藏 </button> {if track.album.id!=null} {var showDis = hasLocal||offlined>0||noCopyright} <button class="z-off u-ibtn5 u-ibtn5-inplay {if showDis}z-dis{/if}" {if !showDis} data-res-ext="playing" data-action="download" data-res-type="4" data-res-id="${track.id}" data-res-action="download" data-log-source="playdetail" data-res-from="${from}"{if tid} data-res-data="${tid}"{/if} {/if}> ${commonJST('com-svg', 'icon.sp.svg#btn_dld')} {if hasLocal||offlined==4}已下载 {elseif offlined>0}下载中 {else}下载 {/if} </button> {if !noShare} <button class="z-off u-ibtn5 u-ibtn5-inplay {if noCopyright}z-dis{/if}" data-res-ext="playing" data-res-type="4" data-res-id="${track.id}" data-res-action="share" data-log-action="cltshare" data-log-type="song" data-log-source="playdetail"> ${commonJST('com-svg','icon.sp.svg#btn_share')}分享 </button> {/if} {/if} </textarea> <textarea name="ntp" id="m-fdtt-show-track"> <div class="inf j-flag"></div> <article class="word"> <div class="j-flag text"></div> <span class="icn btn up j-flag" title="后退0.5s" data-action="delay"><svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#lrc_speed"></use></svg></span> <span class="icn btn down j-flag" title="前进0.5s" data-action="ahead"><svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#lrc_speed"></use></svg></span> <div class="btn help"> <div class="icn j-flag" title="报错" data-action="showLayer"> <svg> <use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#lrc_help"></use> </svg> </div> <div class="helptip f-hc j-flag"></div> </div> </article> </textarea> <textarea name="jst" id="m-fdtt-show-track-detail"> <div class="title"> <h1 class="f-ff2 f-ust">${track.name|escape}</h1> {if !!track.mvid} <a href="#/m2/mv/?source=song&id=${track.mvid}" class="tag u-cicn u-cicn-mv"> ${commonJST('com-svg', 'icon.sp.svg#play_mv')} </a> {/if} {if from.playType!=null} {if from.playType==0 || from.playType==100} <span class="tag u-cicn u-cicn-local"> ${commonJST('com-svg', 'icon.sp.svg#play_local')} </span> {elseif from.playType==4 && from.isCloudMusic} <span class="tag u-cicn u-cicn-cloud"> ${commonJST('com-svg', 'icon.sp.svg#play_cloud')} </span> {else} {var privilege = track.privilege} {if privilege} {if privilege.maxSongBr<=128} {var brtArr = [128]} {elseif privilege.maxSongBr<=192} {var brtArr = [128,192]} {elseif privilege.maxSongBr<=320} {var brtArr = [128,192,320]} {elseif privilege.maxSongBr>320} {var brtArr = [128,192,320,999]} {/if} {var maxBrt = brtArr[brtArr.length-1]} {var plyBrt = from.playBrt>320?999:from.playBrt>192?320:from.playBrt>128?192:128} {var curBrtClass = plyBrt==999?'tsq':plyBrt} {var hasBetterQuality = maxBrt>plyBrt} <div class="tag u-cicn u-cicn-${curBrtClass} {if !hasBetterQuality}z-normal{/if} {if hasBetterQuality}f-cp{/if} jj-flag" data-action="toggleshow"> ${commonJST('com-svg', 'icon.sp.svg#play_'+curBrtClass+(hasBetterQuality?'arr':''))} <div class="m-sltlay m-hqslt f-pa f-dn"> <ol> {list brtArr as brt} {var itemBrtClass=brt>320?'sq':((privilege.maxFreeBr>=brt?'':'mem')+brt)} {var curBrt = plyBrt == brt} <li {if curBrt}class="z-slt"{else}data-action="switchQuality" data-quality="${brt}"{/if}> <i class="slt u-icn u-icn-slt"> ${commonJST('com-svg', 'icon.sp.svg#play_sq_slt')} </i> {if brt==128} <span class="f-fl s-fc1">标准<em class="s-fc4">（128kbit/s）</em></span> {if privilege.maxFreeBr<brt&&!isFeeType(privilege.fee, 'bb')} <i class="member u-icn u-icn-member"></i> {/if} {elseif brt==192} <span class="f-fl s-fc1">较高<em class="s-fc4">（192kbit/s）</em></span> {if privilege.maxFreeBr<brt&&!isFeeType(privilege.fee, 'bb')} <i class="member u-icn u-icn-member"></i> {/if} {elseif brt==320} <span class="f-fl s-fc1">极高<em class="s-fc4">（320kbit/s）</em></span> {if privilege.maxFreeBr<brt&&!isFeeType(privilege.fee, 'bb')} <i class="member u-icn u-icn-member"></i> {/if} {elseif brt==999} <span class="f-fl s-fc1">无损音质</span> {if privilege.maxFreeBr>320 || isFeeType(privilege.fee, 'bb')} <i class="member u-icn u-icn-sq"> ${commonJST('com-svg', 'icon.sp.svg#sq')} </i> {else} <i class="member u-icn u-icn-memsq"></i> {/if} {/if} </li> {/list} </ol> </div> </div> {/if} {/if} {/if} </div> {if (track.transNames && track.transNames.length>0) || (track.alias && track.alias.length>0)} <h2 class="alias u-tit f-ff2 f-thide f-ust f-ust-1"> {if track.transNames && track.transNames.length>0} {list track.transNames as name} <b>${name|escape}</b><b>；</b> {/list} {/if} {if track.alias && track.alias.length>0} {list track.alias as name} <b>${name|escape}</b><b>；</b> {/list} {/if} </h2> {/if} <ul class="f-cb f-ust f-ust-1"> <li class="f-thide"> {var alias = getAlias(track.album)} <label>专辑：</label>{if !track.album.id}<span>${track.album.name||'未知'}{if alias}&nbsp;<span class="s-fc4">(${alias|escape})</span>{/if}</span>{else}<a href="#/m/album/?id=${track.album.id}" title="${track.album.name||'未知'}">${track.album.name||'未知'}{if alias}&nbsp;<span class="s-fc4">(${alias|escape})</span>{/if}</a>{/if} </li> <li class="f-thide"> <label>歌手：</label>{list track.artists as x}{if !x.id}<span>${x.name||'未知'}</span>{else}<a href="#/m/artist/?id=${x.id}" title="${x.name||'未知'}">${x.name||'未知'}</a>{/if}{if x_index<x_length-1} / {/if}{/list} </li> {if type!='fm'} <li class="f-thide"> <label>来源：</label><span class="txt" title="${from.text||'未知'|escape}">{if !!from.href}<a href="${from.href|trimHash}">${from.text||'未知'|escape}</a>{else}<span>${from.text||'未知'|escape}</span>{/if}</span> </li> {/if} </ul> </textarea> <textarea name="txt" id="m-fdtt-show-track-lrc-loading"> <div class="u-load">歌词载入中...</div> </textarea> <textarea name="jst" id="m-fdtt-show-track-lrc-empty"> <div class="noword s-fc1"> {if fromText}<p class="from">${fromText}</p>{/if} <p>还没有歌词哦~</p> {if isLib}<p><a href="javascript:void(0);" class="f-tdu s-fc2" data-action="lrc">求歌词</a></p>{/if} {if copyFrom}<p class="copyright">来源于互联网：${copyFrom}</p>{/if} </div> </textarea> <textarea name="jst" id="m-fdtt-show-track-nolrc"> <div class="noword s-fc1"> {if fromText}<p class="copyright">${fromText}</p>{/if} <p>纯音乐，请您欣赏</p> {if copyFrom}<p class="copyright">来源于互联网：${copyFrom}</p>{/if} </div> </textarea> <textarea name="jst" id="m-fdtt-show-track-lrc-report-btn"> {if nolyric} <a data-action="report">歌曲报错</a> <i class="arr"><svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#help_arr"></use></svg></i> {else} {if sgc}<a data-action="uploadLrc">上传歌词</a>{/if} {if sfy}<a data-action="uploadTrans" data-url="${uploadTransUrl}">翻译歌词</a>{/if} <a data-action="report">{if haslyric}词曲报错{else}歌曲报错{/if}</a> <i class="arr"><svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#help_arr"></use></svg></i> {/if} </textarea> <textarea name="jst" id="m-fdtt-show-track-lrc-list"> <div class="textwrap"> {if yunFrom}<p class="from">${yunFrom}</p>{/if} {if !isScroll} <h3 class="f-ust f-ust-1">*该歌词不支持自动滚动*&nbsp;<a href="#" class="f-tdu s-fc3" data-action="scroll">求滚动</a></h3> {/if} {var showTrc = isScroll&&tlist} {list xlist as x} {if x.time!=-1 || x.lyric.length>0} {if showTrc} <div class="j-line trans"> <p class="f-ust f-ust-1">${x.lyric||'&nbsp;'}</p> {if tlist[x_index]&&tlist[x_index].lyric}<p class="f-ust f-ust-1 f-fs0">${tlist[x_index].lyric||'&nbsp;'}</p>{/if} </div> {else} <p class="j-line f-ust f-ust-1">${x.lyric||'&nbsp;'}</p> {/if} {else} <p class="j-line"></p> {/if} {/list} {if lyricUser}<p class="supplier">歌词贡献者：{if lyricUser.userid}<a href="#/m/personal/?uid=${lyricUser.userid}" class="f-tdu">${lyricUser.nickname|escape}</a>{else}${lyricUser.nickname|escape}{/if}</p>{/if} {if transUser}<p class="supplier">翻译贡献者：{if transUser.userid}<a href="#/m/personal/?uid=${transUser.userid}" class="f-tdu">${transUser.nickname|escape}</a>{else}${transUser.nickname|escape}{/if}</p>{/if} {if qfy}<p class="supplier"><a href="#" class="f-tdu s-fc3" data-action="reqTrans" data-id="${id}">求翻译</a></p>{/if} {if copyFrom&&!yunFrom}<p class="copyright">来源于互联网：${copyFrom}</p>{/if} </div> </textarea> <textarea name="ntp" id="m-fdtt-rec-track"> <div class="m-detail-rcmd"> <div class="g-box"> <div class="n-shead"><h2 class="u-tit f-ff2">包含这首歌的歌单</h2></div> <div class="j-flag"></div> </div> <div class="g-box"> <div class="n-shead"><h2 class="u-tit f-ff2">相似歌曲</h2></div> <div class="j-flag"></div> </div> <div class="g-box"> <div class="n-shead"><h2 class="u-tit f-ff2">喜欢这首歌的人</h2></div> <div class="j-flag"></div> </div> </div> </textarea> <textarea name="jst" id="m-fdtt-advertisement"> <div data-res-id="${id}" data-res-type="110" data-res-action="link" {if biEvent}data-bi-event="${biEvent}"{/if} {if biJson}data-bi-json="${biJson}"{/if} class="m-ad-play{if position} m-ad-play-top{/if}">${commonJST('com-img', picUrl, '244y150')}</div> </textarea> <textarea name="jst" id="m-fdtt-list-playlist"> <ul class="m-slist1"> {list beg..end as y} {var x=xlist[y]} <li> <a data-log-action="click" data-log-type="containplaylist" href="#/m/playlist/?id=${x.id}&log=${log}&logAction=${logAction}&logScene=${logScene}&logPosition=${y+1}&logAlg=${x.alg}&logSrcId=${logSrcId}"> <span class="u-cover u-cover-tn"> <span class="lnk"> ${commonJST('com-img', x.coverImgUrl, '40y40')} {if x.highQuality}<div class="corner f-pa"><svg><use xlink:href="orpheus://orpheus/style/res/svg/cover.sp.svg#crown"></use></svg></div>{/if} </span> </span> <h5 class="f-thide">${x.name}</h5> <p class="s-fc4">播放：${playcountFormat(x.playCount)}</p> </a> </li> {/list} </ul> </textarea> <textarea name="jst" id="m-fdtt-list-track"> <ul class="m-slist2"> {list beg..end as y} {var x=xlist[y]} <li data-res-type="4" data-res-id="${x.id}" data-res-from="2" data-res-data="${x.album.id}" data-res-action="play" data-res-log="${log}" data-res-log-action="${logAction}" data-res-log-scene="${logScene}" data-res-log-position="${y+1}" data-res-log-alg="${x.alg}" data-res-log-src-id="${logSrcId}"> <a class="s-fc1" href="#" data-log-action="click" data-log-type="similarsong"> {var alias = getAlias(x)} <h5 class="f-thide"><span class="tit">${x.name}{if alias}&nbsp;<em class="s-fc4">(${alias|escape})</em>{/if}</span></h5> <p class="s-fc3">{list x.artists as a}${a.name}&nbsp;{/list}</p> </a> </li> {/list} </ul> </textarea> <textarea name="jst" id="m-fdtt-list-user"> <ul class="m-slist3"> {list beg..end as y} {var x=xlist[y]} <li> <a data-log-action="click" data-log-type="likesong"  href="#/m/personal/?uid=${x.userId}&log=${log}&logAction=${logAction}&logScene=${logScene}&logPosition=${y+1}&logAlg=${x.alg}&logSrcId=${logSrcId}" class="s-fc1"> <span class="u-face u-face-2"><div class="wrap">${commonJST('com-img', x.avatarUrl, '30y30')}</div></span> <time class="s-fc3">${x.recommendReason}</time> <div class="name"> <div class="namec">${x.nickname}${commonJST('com-user-gender', x, true)}</div> </div> </a> </li> {/list} </ul> </textarea> <textarea name="jst" id="m-fdtt-btn-program"> {if !program.liked} <button class="z-off u-ibtn5 u-ibtn5-inplay" data-action="like" data-res-id="${program.id}" data-res-type="3" data-res-action="like" data-res-ext="like"> ${commonJST('com-svg', 'icon.sp.svg#btn_praise')}赞(${program.likedCount|tenThousand}) </button> {else} <button class="z-off u-ibtn5 u-ibtn5-inplay z-did" data-action="like" data-res-id="${program.id}" data-res-type="3" data-res-action="like" data-res-ext="unlike"> ${commonJST('com-svg', 'icon.sp.svg#btn_praise')}赞(${program.likedCount|tenThousand}) </button> {/if} {var showDis = hasLocal||offlined>0||noCopyright} <button class="z-off u-ibtn5 u-ibtn5-inplay {if showDis}z-dis{/if}" {if !showDis} data-action="download" data-res-type="3" data-res-id="${program.id}" data-res-action="download" data-res-from="${from}" {/if}> ${commonJST('com-svg', 'icon.sp.svg#btn_dld')} {if hasLocal||offlined==4}已下载 {elseif offlined>0}下载中 {else}下载 {/if} </button> <button class="z-off u-ibtn5 u-ibtn5-inplay" data-res-id="${program.id}" data-res-type="3" data-res-action="share" data-log-action="cltshare" data-log-type="dj" data-log-source="playdetail"> ${commonJST('com-svg', 'icon.sp.svg#btn_share')}分享 </button> </textarea> <textarea name="jst" id="m-fdtt-show-program"> <div class="cnt m-playlrc"> <div class="inf"> <h1 class="u-tit f-ff2 f-ust f-ust-1">${program.name|escape}</h1> <ul class="f-cb"> {if dj}<li class="f-thide"><label class="s-fc3">主播：</label><span class="txt"><a href="#/m/personal/?uid=${dj.userId}" class="s-fc2">${dj.nickname|escape}</a></span></li>{/if} <li class="f-thide"> <label class="s-fc3">来源：</label> <span class="txt"> {if !!from.href} <a href="#${from.href}" class="s-fc2">${from.text||'未知'|escape}</a> {else} <span class="s-fc3">${from.text||'未知'|escape}</span> {/if} </span> </li> </ul> {if program.radio} <h3 class="rdiname"> <em class="f-ff2"> <a class="s-fc3" href="#/m/djradio/?id=${program.radio.id}">${program.radio.name}</a> </em> {if !program.radio.subed} <div class="dy f-pr"> <button data-res-type="70" data-res-id="${program.radio.id}" data-res-action="fav" class="u-ibtn5 u-ibtn5-inplay"> ${commonJST('com-svg', 'icon.sp.svg#btn_subscribe')}订阅(${program.radio.subCount|tenThousand})</button> <div class="m-guide m-guide-playprogram f-dn f-pa"> <div class="connect"> <span class="spot"></span> <span class="line"></span> </div> <div class="note f-ff2">喜欢该节目？<br/>现在订阅该电台，方便收到节目更新。<a href="javascript:;" data-action="closetip" class="cls" title="关闭">${commonJST('com-svg', 'icon.sp.svg#guide_close')}</a></div> </div> </div> {else} <div class="dy"> <button data-res-type="70" data-res-id="${program.radio.id}" data-res-action="unfav" class="u-ibtn5 u-ibtn5-inplay z-did"> ${commonJST('com-svg', 'icon.sp.svg#btn_subscribe')}已订阅(${program.radio.subCount|tenThousand}) </button> </div> {/if} </h3> {/if} </div> <div class="word"> <ul class="rditime f-cb"> <li><label>创建时间：</label>${program.createTime|format:'yyyy-MM-dd'}</li> <li><label>已播放：</label>${program.listenerCount|tenThousand}次</li> </ul> {if program.radio} <div class="text text-radio f-brk"> <a href="#/m/disc/djradio/home/cat?id=${program.radio.categoryId}&name=${encodeURIComponent(program.radio.category)}" class="tag u-type u-type-red">${program.radio.category}</a><span class="f-ust">${program.description|default:'暂无介绍'|escape2}</span> </div> {/if} </div> </div> </textarea> <textarea name="ntp" id="m-fdtt-rec-program"> <div class="m-detail-rcmd"> <div class="g-box g-box-1 f-dn"> <div class="n-shead"><h2 class="u-tit f-ff2">节目包含歌曲</h2></div> <div class="j-flag"></div> </div> <div class="g-box f-dn"> <div class="n-shead"><h2 class="u-tit f-ff2">更多节目</h2></div> <div class="j-flag"></div> </div> <div class="g-box g-box-1 f-dn"> <div class="n-shead"><h2 class="u-tit f-ff2">喜欢这个节目的人</h2></div> <div class="j-flag"></div> </div> </div> </textarea> <!-- <textarea name="jst" id="m-fdtt-list-program"> <ul class="m-slist1"> {list beg..end as y} {var x=xlist[y]} {if x.id!=pid} <li> <a href="#/m/program/?id=${x.id}" data-log-action="click" data-log-type="moreprogram"> <span class="u-cover u-cover-tn"><span class="lnk"><img src="${x.coverUrl||defaultCover}?param=40y40&quality=100"></span></span> <h5 class="f-thide">${x.name|escape}</h5> <p class="s-fc3">${x.dj.brand|escape} VOL.${x.serialNum|escape}</p> </a> </li> {/if} {/list} </ul> </textarea> --> <textarea name="js">(function(){var byz=NEJ.P,cJO=NEJ.O,byA=byz("nej.e"),bm=byz("nej.u"),bi=byz("nej.v"),cmw=byz("nej.ui"),bU=byz("nej.ut"),fH=byz("nej.cef"),bj=byz("nm.x"),bR=byz("nm.l"),bp=byz("nm.d"),byx,byD;bj.OM=NEJ.C();byx=bj.OM.bS(cmw.hl);byx.byR=function(blZ){this.dG={blur:!0,limit:20,count:1,delay:!0,dtime:1200};this.bEc(blZ)};byx.cJ=function(blZ){this.cK(blZ);this.dO([[bp.cG,"itemchange",this.tj.byB(this)],[bp.gr,"itemchange",this.tj.byB(this)]]);this.cuU=blZ.targetUmi||"/?/comment/detail/";this.dG.rid=blZ.rid||"";var di=bj.cL(9,function(cJN){return cJN.hQ("comment-"+(blZ.rid||""))});if(!!di)this.beb.innerText=di;else this.beb.innerText=0;byA.bK(this.Ag,"f-dn");if(blZ.rid){this.baR.href="#/m/song?rid="+blZ.rid;this.Wi.href="#/m/song?rid="+blZ.rid+"&index=2"}else{this.baR.href="javascript:;";this.Wi.href="javascript:;"}dispatcher.dr(this.cuU,{input:this.dG})};byx.dH=function(){this.dI();delete this.dG.rid;dispatcher.dy(this.cuU);this.beb.innerText=0;byA.bK(this.Ag,"f-dn")};byx.eo=function(){this.Yl="m-fdtt-comment"};byx.byL=function(){this.byO();var bg=byA.bV(this.bA,"j-flag");this.baR=bg[0];this.beb=bg[1];this.uj=bg[2];this.Ag=bg[3];this.Wi=bg[4];this.dG.parent=this.uj};byx.tj=function(byy){var bl=byy.data||cJO;if(byy.attr=="commentCount"&&(bl.commentThreadId==this.dG.rid||!bl.commentThreadId&&this.dG.rid.lastIndexOf(bl.id)==this.dG.rid.length-(bl.id+"").length)){this.beb.innerText=bl.commentCount}}})();
(function(){var byz=NEJ.P,cJO=NEJ.O,byA=byz("nej.e"),bm=byz("nej.u"),bi=byz("nej.v"),cmw=byz("nej.ui"),bU=byz("nej.ut"),fH=byz("nej.cef"),bj=byz("nm.x"),bp=byz("nm.d"),byx,byD;bj.UP=NEJ.C();byx=bj.UP.bS(cmw.hl);byx.byR=function(){this.eG={limit:10,item:{klass:"m-fdtt-list-playlist",playcountFormat:function(bTG){return bj.bED(bTG)},commonJST:ctl.commonJST.cFB,log:1,logAction:201,logScene:5},cache:{data:{},clear:!0,klass:bp.dZ},onemptylist:this.sD.byB(this),onbeforelistclear:this.ES.byB(this),onbeforelistload:this.jG.byB(this),onbeforelistrender:this.qS.byB(this)};this.eZ={limit:10,item:{klass:"m-fdtt-list-track",log:1,logAction:201,logScene:4,getAlias:bj.csw},cache:{data:{},clear:!0,klass:bp.cG},onemptylist:this.sD.byB(this),onbeforelistload:this.jG.byB(this),onbeforelistrender:this.qS.byB(this)};this.kp={limit:10,item:{klass:"m-fdtt-list-user",log:1,logAction:201,logScene:6,commonJST:ctl.commonJST.cFB},cache:{data:{},clear:!0,klass:bp.du},onemptylist:this.sD.byB(this),onbeforelistclear:this.ES.byB(this),onbeforelistload:this.jG.byB(this),onbeforelistrender:this.qS.byB(this)};this.bEc()};byx.cJ=function(blZ){this.cK(blZ);var bB=blZ.track||cJO;var cJN=this.eG.cache;cJN.lkey="playlist_similar-"+bB.id;cJN.data.songid=bB.id;this.eG.item.logSrcId=bB.id;if(!!this.qV)this.qV.bQ();var cJN=this.eZ.cache;cJN.lkey="track_similar-"+bB.id;cJN.data.songid=bB.id;this.eZ.item.logSrcId=bB.id;if(!!this.US)this.US.bQ();var cJN=this.kp.cache;cJN.lkey="user_similar-"+bB.id;cJN.data.songid=bB.id;this.kp.item.logSrcId=bB.id;if(!!this.yh)this.yh.bQ();var bGI=byA.gy("m-xwgt-list-loading");this.eG.parent.innerHTML=bGI;this.eZ.parent.innerHTML=bGI;this.kp.parent.innerHTML=bGI;clearTimeout(this.bFi);this.bFi=setTimeout(function(){this.eG.parent.innerHTML="";this.eZ.parent.innerHTML="";this.kp.parent.innerHTML="";this.qV=bU.kl.bG(this.eG);this.US=bU.kl.bG(this.eZ);this.yh=bU.kl.bG(this.kp)}.byB(this),1200);byA.bJ(this.bA,"z-hasrcmd")};byx.dH=function(){clearTimeout(this.bFi);this.dI();this.uk()};byx.eo=function(){this.Yl="m-fdtt-rec-track"};byx.byL=function(){this.byO();var bg=byA.bV(this.bA,"j-flag");this.eG.parent=bg[0];this.eZ.parent=bg[1];this.kp.parent=bg[2];this.eG.cache.onerror=this.ej.byB(this,bg[0]);this.eZ.cache.onerror=this.ej.byB(this,bg[1]);this.kp.cache.onerror=this.ej.byB(this,bg[2])};byx.jG=function(byy){this.qS(byy);byy.value=byA.gy("m-xwgt-list-loading")};byx.sD=function(byy){byA.bK(byy.parent.parentNode,"f-dn")};byx.qS=function(byy){byA.bJ(byy.parent.parentNode,"f-dn");byA.bK(this.bA,"z-hasrcmd")};byx.ej=function(fO,byy){bj.jD(byy,!1,fO)};byx.ES=function(byy){}})();
(function(){var byz=NEJ.P,cJO=NEJ.O,byA=byz("nej.e"),bm=byz("nej.u"),bi=byz("nej.v"),cmw=byz("nej.ui"),bU=byz("nej.ut"),fH=byz("nej.cef"),bj=byz("nm.x"),bp=byz("nm.d"),byx,byD;bj.UT=NEJ.C();byx=bj.UT.bS(cmw.hl);byx.byR=function(){this.eZ={limit:10,item:{klass:"m-fdtt-list-track",showCloudIcon:this.cAs.byB(this),getAlias:bj.csw},cache:{data:{},clear:!0,klass:bp.cG},onemptylist:this.sD.byB(this),onbeforelistload:this.jG.byB(this),onbeforelistrender:this.qS.byB(this)};this.bEc()};byx.cJ=function(blZ){this.cK(blZ);var dB=blZ.program||cJO,nz=dB.dj||cJO;var cJN=this.eZ.cache;cJN.lkey="track_program-"+dB.id;cJN.data.id=dB.id;if(!!this.US)this.US.bQ();byA.bK(this.eZ.parent.parentNode,"f-dn");this.US=bU.kl.bG(this.eZ);byA.bJ(this.bA,"z-hasrcmd")};byx.dH=function(){clearTimeout(this.bFi);this.dI();this.uk()};byx.eo=function(){this.Yl="m-fdtt-rec-program"};byx.byL=function(){this.byO();var bg=byA.bV(this.bA,"j-flag");this.eZ.parent=bg[0];this.eZ.cache.onerror=this.ej.byB(this,bg[0])};byx.jG=function(byy){this.qS(byy);byy.value=byA.gy("m-xwgt-list-loading")};byx.sD=function(byy){byA.bK(byy.parent.parentNode,"f-dn")};byx.qS=function(byy){byA.bJ(byy.parent.parentNode,"f-dn");byA.bK(this.bA,"z-hasrcmd")};byx.ej=function(fO,byy){bj.jD(byy,!1,fO)};byx.ES=function(byy){bj.mn(byy.parent)};byx.cAs=function(bB){return bj.cL(4,function(cJN){return cJN.cmI(bB)==1})}})();
(function(){var byz=NEJ.P,cJO=NEJ.O,eu=byz("nej.g"),byA=byz("nej.e"),bi=byz("nej.v"),bU=byz("nej.ut"),bm=byz("nej.u"),kB=byz("nej.ui"),bj=byz("nm.x"),bxI=byz("nm.i"),bR=byz("nm.l"),bp=byz("nm.d"),bY=byz("nm.m"),bC=byz("nm.m.f"),byx,byD;bC.UU=NEJ.C();byx=bC.UU.bS(bY.cW);byx.byG=function(){this.bCU="m-fdtt";this.dg();var bg=byA.bV(this.bA,"j-flag");this.UV=bg[0];this.bEN=bg[0].nextElementSibling;this.bIg=bg[0].previousElementSibling;this.UW=bg[1];this.oq=bg[2];this.On=bg[3];this.cxO=bg[5];this.lI={parent:bg[4],clazz:"cnt m-playlrc"};this.dG={parent:bg[5]};this.bL={clazz:"g-mn2c",parent:bg[6]};this.byJ={onitemload:this.ber.byB(this)};this.eG={onitemload:this.Gx.byB(this)};bi.bM(this.On,"click",this.bes.byB(this));this.kh={init:!1,running:!1,node:this.oq.parentNode.parentNode};this.byf=0;this.nV=!1;this.bCf=1;this.UX=null;this.bEX=null;this.bGH="";bi.bM(bp.cG,"playchange",this.oD.byB(this));this.bFW="none"};byx.byT=function(blZ){this.ckv=!0;if(!this.cS)this.cS=bp.cG.bG(this.byJ);if(!this.hT)this.hT=bp.gr.bG(this.eG);if(!this.ctJ){this.ctJ=bp.ctG.bG()}this.dO([[this.oq,"error",this.beu.byB(this)],[bp.cG,"offlinechange",this.xm.byB(this)],[bp.gr,"itemchange",this.FH.byB(this)],[bp.cmK,"itemchange",this.coO.byB(this)],[this.bA,"click",this.ei.byB(this)],[bp.cG,"likechange",this.bJH.byB(this)],[bp.cG,"localchange",this.bJH.byB(this)],[bp.cG,"coverupdate",this.NL.byB(this)]]);this.cmx(blZ)};byx.dq=function(blZ){this.dC(blZ);var fk=(blZ.param||cJO).id||(blZ.input||cJO).id,cP=this.Ew(fk);this.byZ=fk;this.dX=cP;this.cCB=0;this.bFf=!1;this.bEW=!1;byA.bJ("id-single","z-hasmore");var dk=this.cS.gB();this.oD({newValue:dk});this.bL.rid=this.bex(this.byZ);this.cIQ=null;if(cP!=null){if(dk&&dk.from&&dk.from.tid){this.cCB=dk.from.tid}var dB=this.hT.cl(cP);bj.cnk(this.bFs.byB(this,this.byZ,this.dX,!0,dB.blurCoverUrl),1e3,"delaySetBgImg");bj.cnk(this.bHW.byB(this,this.byZ,this.dX,dB.coverUrl),50,"delaySetCrImg");byA.eB(this.lI.parent,"m-fdtt-show-program",{from:this.cS.cl(this.byZ),program:dB,dj:dB.dj,defaultAvatar:bj.hk().avatar32,commonJST:ctl.commonJST.cFB},{tenThousand:bj.bED,escape2:bj.bUS});this.hT.bvP(cP);this.hT.hv({key:"program",id:cP,data:{id:cP}});nm.log.cFs("page",{type:"playdj",id:cP})}else{var bB=bj.bKw(this.cS.cl(fk)||{});fk=bB.id||fk;this.cCB=fk;this.cS.hv({key:"track",id:fk,data:{id:fk}});nm.log.cFs("page",{type:"playsong",id:fk})}};byx.eR=function(blZ){this.ckv=!1;this.byU(blZ)};byx.beu=function(){this.oq.src=eu.Jw};byx.Ew=function(bo){if(this.cS.xR(bo)){var bB=this.cS.cl(bo);bB=bB.track||bB;return bB.programId}return null};byx.bex=function(fk){var cP=this.Ew(fk),bB=this.cS.cl(fk)||cJO;bB=!!bB.track&&!!bB.track.track?bB.track.track:bB.track||bB;return cP!=null?bj.bAw(3,cP):bj.bAw(4,bB.id)};byx.oD=function(byy){var dk=byy.newValue||cJO,byj=byy.oldValue;if(byj&&byj.state==2&&byj.from.id==this.byZ&&(dk.state==2||dk.state==-1)){this.nV=!0;this.bCf=-1;clearTimeout(this.byf);this.byf=setTimeout(this.bEE.byB(this),350);byA.bJ(this.UW,"z-play");this.cjY();this.bEM=!1}else if(this.bEM&&dk.state==2){this.bEM=!1}if(dk.state==2&&dk.from.id==this.byZ){if(this.nV){this.bCf=1}else{clearTimeout(this.byf);this.byf=setTimeout(this.byi.byB(this,"play"),50)}}else{if(this.bEM)return;if(this.nV){this.bCf=-1}else{clearTimeout(this.byf);this.byf=setTimeout(this.byi.byB(this,"stop"),150)}}};byx.bEE=function(){this.nV=!1;if(this.bCf==1){this.byf=setTimeout(this.byi.byB(this,"play"),50)}};byx.byi=function(bq){switch(bq){case"play":byA.bK(this.UW,"z-play");break;case"stop":if(this.bEM)break;byA.bJ(this.UW,"z-play");this.cjY();break}};byx.Ez=function(byy){var Ev=byA.cg("m-fdtt-btn-down");var bo=byA.bT(Ev,"resId");if(Ev&&bo==this.beB){byA.bK(Ev,"z-dis");Ev.innerText="下载中"}};byx.xm=function(byy){var dk=this.cS.gB();if(!dk||!dk.from||dk.from.id!=this.byZ)return;var fI=dk.from,bB=bj.bKw(fI),fk=byy.id;if(byy.type=="offlinechange"){fk=this.cS.bWe(byy.id)}if(bB.id!=fk)return;if(!bB.programId){byA.eB(this.On,"m-fdtt-btn-track",{from:fI.fid||1,tid:fI.data,track:bB,offlined:byy.newValue,islike:this.cS.bKK(fk),noCopyright:this.cS.bYQ(byy.id)&&!this.cS.cmI(bB),hasLocal:this.cS.bUG(byy.id)||this.cS.cns(byy.id),noShare:this.cS.cmI(bB)==2,commonJST:ctl.commonJST.cFB})}else{byA.eB(this.On,"m-fdtt-btn-program",{from:fI.fid||1,tid:fI.data,program:this.hT.cl(bB.programId),offlined:byy.newValue,commonJST:ctl.commonJST.cFB},{tenThousand:bj.bED})}};byx.bJH=function(byy){this.xm({id:byy.id,newValue:this.cS.nx(byy.id)})};byx.FH=function(byy){var bh=byy.data||cJO;if(byy.attr=="likedCount"&&bh.id==this.Ew(this.byZ)){this.xm({id:bh.mainTrackId,newValue:this.cS.nx(bh.mainTrackId)})}};byx.coO=function(byy){var cA=this.cS.cl(this.byZ),dB=this.hT.cl(cA.track.programId);if(dB.id==this.Ew(this.byZ)&&byy.attr=="subCount"){byA.eB(this.lI.parent,"m-fdtt-show-program",{from:this.cS.cl(this.byZ),program:dB,dj:dB.dj,defaultAvatar:bj.hk().avatar32,commonJST:ctl.commonJST.cFB},{tenThousand:bj.bED,escape2:bj.bUS})}};byx.bFs=function(bo,cP,bFg,bh){if(this.byZ!=bo||this.dX!=cP)return;var cBb=[];var bks=this.cS.cCH(this.cCB);bm.cj(bks,function(gL){cBb.push("orpheus://cache/?orpheus://localmusic/pic?"+gL)});if(!!bh){if(bh=="16601526067802346"){cBb.push("orpheus://cache/?"+APP_CONF.domain+"/api/img/blur/16559744625946909?param=2040y1084&quality=100")}else{if(bFg){cBb.unshift("orpheus://cache/?"+bh+"?param=2040y1084&quality=100")}else{cBb.unshift("orpheus://cache/?"+APP_CONF.domain+"/api/img/blur/"+bh+"?param=2040y1084&quality=100")}}}if(cBb&&cBb.length){bj.cCF(cBb,this.cDy.byB(this,bo,cP),"getPlayingBgImg")}else{this.cDy(bo,cP,"")}};byx.cDy=function(bo,cP,byC){if(this.byZ!=bo||this.dX!=cP)return;if(byC){if(this.bGH==byC)return;if(byC.indexOf("orpheus://cache/?orpheus://localmusic/pic?")==0){byA.bK(this.bEN,"bgimg-local")}else{byA.bJ(this.bEN,"bgimg-local")}byA.byW(this.bEN,"backgroundImage","url("+byC+")");this.bGH=byC;byA.bJ(this.bIg,"z-default")}else{if(this.bGH==this.bFW)return;byA.bJ(this.bEN,"bgimg-local");byA.byW(this.bEN,"backgroundImage","url("+this.bFW+")");this.bGH=this.bFW;byA.bK(this.bIg,"z-default")}byA.bK(this.bEN,"z-show");byA.bJ(this.UV,"z-show");var ep=this.UV;this.UV=this.bEN;this.bEN=ep};byx.bHW=function(bo,cP,bh){if(this.byZ!=bo||this.dX!=cP)return;var cBb=[];var bks=this.cS.cCH(this.cCB);bm.cj(bks,function(gL){cBb.push("orpheus://cache/?orpheus://localmusic/pic?"+gL)});if(!!bh){var bs=(bh||"").indexOf("/16601526067802346.");if(bs>=0){cBb.push("orpheus://cache/?"+bh+"?param=210y210")}else{cBb.unshift("orpheus://cache/?"+bh+"?param=210y210")}}if(cBb&&cBb.length){bj.cCF(cBb,this.cDz.byB(this,bo,cP),"getPlayingCrImg")}else{this.cDz(bo,cP,"")}};byx.cDz=function(bo,cP,byC){if(this.byZ!=bo||this.dX!=cP)return;if(byC){this.oq.src=byC}else{this.oq.src=""}};byx.bFt=function(bo,cP,bFg){byA.bJ("id-single","z-hasmore");if(this.byZ!=bo||this.dX!=cP||!this.bFf||this.bEW)return;if(!!this.yf)this.yf.bQ();if(!!this.bAP)this.bAP.bQ();this.cxO.innerText="";if(!bFg){this.bAP=bj.UP.bG(this.dG);this.yf=bj.OM.bG(this.bL)}else{this.bAP=bj.UT.bG(this.dG);this.yf=bj.OM.bG(this.bL)}this.bEW=!0;this.UX=null;var dk=localCache.cg("notify-play");if(!!dk){localCache.bSX("notify-play",null)}var bCd=this.ctJ.cl("110_0");if(bCd&&bCd.picUrl){this.cJU={page:"play",position:bCd.position?"uprelated":"downrelated",pagetype:this.dX>0?"dj":"song",pageid:this.dX||this.cCB,url:bCd.url,id:bCd.adId+"",method:"featured",algname:"null"};var dT=byA.gk("m-fdtt-advertisement",NEJ.X({commonJST:ctl.commonJST.cFB,biEvent:"adclick",biJson:bj.cPo(this.cJU)},bCd));this.cxO.insertAdjacentHTML(bCd.position?"afterBegin":"beforeEnd",dT);this.cIQ=(byA.bV(this.cxO,"m-ad-play")||[])[0];this.cJW=false;this.cKb()}};byx.NL=function(){if(!this.cS||!!this.dX||!this.byZ)return;var fI=this.cS.cl(this.byZ),bB=!!fI.track&&!!fI.track.track?fI.track.track:fI.track||fI;var bh=this.cS.bNF(bB.id);if(!bh)return;bj.cnk(this.bFs.byB(this,this.byZ,this.dX,!1,bB.album.picId_str||bB.album.picId||bh.picId_str||bh.picId),1e3,"delaySetBgImg");bj.cnk(this.bHW.byB(this,this.byZ,this.dX,bB.album.picUrl||bh.picUrl||bj.cnT(bB.album.picId_str||bB.album.picId)||bj.cnT(bh.picId_str||bh.picId)),50,"delaySetCrImg")};byx.ber=function(byy){var fI=this.cS.cl(this.byZ),bB=!!fI.track&&!!fI.track.track?fI.track.track:fI.track||fI;if(byy.id!=this.byZ&&byy.id!=bB.id){var hX=this.cS.bKX(bB.id,byy.id);if(!hX)return}var bh=this.cS.bNF(bB.id)||cJO;bj.cnk(this.bFs.byB(this,this.byZ,this.dX,!1,bB.album.picId_str||bB.album.picId||bh.picId_str||bh.picId),1e3,"delaySetBgImg");bj.cnk(this.bHW.byB(this,this.byZ,this.dX,bB.album.picUrl||bh.picUrl||bj.cnT(bB.album.picId_str||bB.album.picId)||bj.cnT(bh.picId_str||bh.picId)),50,"delaySetCrImg");this.xm({id:bB.id,newValue:this.cS.nx(bB.id)});this.lI.from=fI;this.lI.track=bB;if(!!this.Eu)this.Eu.bQ();this.lI.parent.innerHTML="";this.Eu=bj.UL.bG(this.lI);this.dG.track=bB;if(!!this.yf)this.yf.bQ();if(!!this.bAP)this.bAP.bQ();if(bB.album.id==null)return;if(bB.yunSong&&bB.songType==1)return;this.bFf=!0;this.bEW=!1;byA.bK("id-single","z-hasmore");this.UX=this.bFt.byB(this,this.byZ,this.dX,!1);if(this.bA.parentNode.offsetHeight>540){setTimeout(function(){if(this.UX)this.UX()}.byB(this),0)}};byx.Gx=function(byy){if(byy.id!=this.Ew(this.byZ))return;var dB=this.hT.cl(byy.id);bj.cnk(this.bFs.byB(this,this.byZ,this.dX,!0,dB.blurCoverUrl),1e3,"delaySetBgImg");bj.cnk(this.bHW.byB(this,this.byZ,this.dX,dB.coverUrl),50,"delaySetCrImg");this.xm({id:dB.mainTrackId,newValue:this.cS.nx(dB.mainTrackId)});if(!!this.Eu)this.Eu.bQ();this.lI.parent.innerHTML="";byA.eB(this.lI.parent,"m-fdtt-show-program",{from:this.cS.cl(this.byZ),program:dB,dj:dB.dj,defaultAvatar:bj.hk().avatar32,commonJST:ctl.commonJST.cFB},{tenThousand:bj.bED,escape2:bj.bUS});this.dG.program=dB;if(!!this.yf)this.yf.bQ();if(!!this.bAP)this.bAP.bQ();this.bFf=!0;this.bEW=!1;byA.bK("id-single","z-hasmore");this.UX=this.bFt.byB(this,this.byZ,this.dX,!0);if(this.bA.parentNode.offsetHeight>540){setTimeout(function(){if(this.UX)this.UX()}.byB(this),0)}};byx.ei=function(byy){var bk=bi.cR(byy,"d:action")||bi.cR(byy,"d:resAction");switch(byA.bT(bk,"action")||byA.bT(bk,"resAction")){case"like":if(bj.btm())return;if(byA.bT(bk,"resExt")!="like")return;var bhF=byA.bV(this.bA,"dy")[0],cvb=byA.bV(this.bA,"m-guide-playprogram")[0];if(cvb){var cod=bj.cL(11,function(cJN){var ml=cJN.fF(),cnj=!!ml.likeProgramTiped;if(!cnj){ml.likeProgramTiped=!0;cJN.nB(ml)}return cnj});if(!cod){cvb.children[1].style.left=-bhF.offsetLeft+"px";byA.bJ(cvb,"f-dn")}}return;case"closetip":byA.lG(bk.parentNode.parentNode);return;case"share":case"download":var bo=byA.bT(bk,"resId");if(this.cS.cmI(bo)==1&&this.cS.cny(bo)==-1){bj.ci({txt:"歌曲已从云盘删除"});bi.bQd(byy)}break}bk=bi.cR(byy,function(bv){return bv.id=="m-fdtt-btn-down"});if(!bk)return;this.beB=byA.bT(bk,"resId")};byx.bes=function(byy){var dQ=byy.target;if(navigator.offline&&dQ.tagName.toLowerCase()=="span"){bj.ci({txt:"网络不给力哦，请检查你的网络设置~"});bi.bQd(byy)}};byx.bey=function(){if(this.kh.running)return;this.kh.running=!0;if(!this.kh.init){this.kh.init=!0;var tz=document.getElementById("id-vinyl-rotate").sheet;this.kh.style0=tz.cssRules[0].style;this.kh.style1=tz.rules[1].cssRules[0].style;this.kh.style2=tz.rules[1].cssRules[1].style}this.kh.style0.webkitTransform="";this.kh.style0.webkitAnimationName="vinyl"};byx.bez=function(){if(!this.kh.running)return;this.kh.running=!1;var bk=this.kh.node,beI=window.getComputedStyle(bk,null),UZ=new WebKitCSSMatrix(beI.webkitTransform),NJ=Math.round(Math.atan2(UZ.b,UZ.a)*(180/Math.PI));this.kh.style0.webkitAnimationName="none";this.kh.style0.webkitTransform="rotateZ("+NJ+"deg)";this.kh.style1.webkitTransform="rotateZ("+NJ+"deg)";this.kh.style2.webkitTransform="rotateZ("+(NJ+360)+"deg)"};byx.cjY=function(AK){if(this.ckv&&!AK)return;if(!this.kh.init){this.kh.init=!0;var tz=document.getElementById("id-vinyl-rotate").sheet;this.kh.style1=tz.rules[0].cssRules[0].style;this.kh.style2=tz.rules[0].cssRules[1].style}var bk=this.kh.node,beI=window.getComputedStyle(bk,null),UZ=new WebKitCSSMatrix(beI.webkitTransform),NJ=Math.round(Math.atan2(UZ.b,UZ.a)*(180/Math.PI));this.kh.style1.webkitTransform="rotateZ("+NJ+"deg)";this.kh.style2.webkitTransform="rotateZ("+(NJ+360)+"deg)"};byx.cKb=function(){if(!this.cJW&&this.cIQ){var cD=this.bA.parentNode,hh=byA.lp(this.cIQ,cD).y,bhO=cD.scrollTop+cD.offsetHeight;if(hh-bhO<-15){nm.log.cFs("adimpress",this.cJU);this.cJW=true}}};byx.hA=function(bn){if(!bn||!bn.data||!bn.data.cmd)return;switch(bn.data.cmd){case"seek2time":this.bEM=bn.data.state=="start";break;case"scroll":if(this.UX)this.UX();this.cKb();break;case"beforehide":this.cjY(!0);break}};bj.cU("/?/track/",bC.UU)})()</textarea>