<meta charset="utf-8"/> <textarea name="txt" id="m-mdwned-module"> <div class="oper f-cb j-flag"> <div class="buttons"> <div class="u-ibtn5b"> <span class="u-ibtn5 u-ibtn5-ply j-flag" data-res-action="play" data-res-type="12" data-res-ext="complete"> <svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#btn_play_sml"></use></svg>播放全部 </span><span class="u-ibtn5 u-ibtn5-only u-ibtn5-addto j-flag" data-res-action="queue" data-res-type="12" data-res-ext="complete"> <svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#btn_addto_list"></use></svg> </span> </div> </div> <div class="u-lcsch"> <input class="j-flag" type="text" data-res-type='16' data-res-menu='true' placeholder="搜索我下载的音乐"> <span class="sch-btn j-flag"> <svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#search"></use></svg> </span> </div> <div class="open1 open2"> <span class="txt f-thide s-fc3">存储目录：<span class="j-flag"></span></span> <a href="javascript:;" class="lnk s-fc2" data-action="folder">打开目录</a> </div> </div> <div class="j-flag"></div> </textarea> <textarea name="jst" id="m-mdwning-complete-empty"> <div class="m-plylist m-plylist-7col m-plylist-only"> <div class="head f-cb"> <div class="fix"> <div class="th col"></div> <div class="th col"></div> </div> <div class="flow"> <div class="th col">音乐标题</div> <div class="th col">歌手</div> <div class="th col">专辑</div> <div class="th col">大小</div> <div class="th col">下载时间</div> </div> </div> <div class="z-empty"> {if !key} <div class="m-off"> <i class="icon u-icn u-icn-download-empty s-fc7"><svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#empty_dld"></use></svg></i> <h2 class="s-fc3">还没有下载的音乐哦，快去下载吧～</h2> </div> {else} <div class="m-empty s-fc4">未能找到与<mark class="s-fc2"><span class="f-ff1">“</span>${key}<span class="f-ff1">”</span></mark>相关的任何音乐</div> {/if} </div> </div> </textarea> <textarea name="js">(function(){var byz=NEJ.P,cJO=NEJ.O,bD=byz("nej.n"),byA=byz("nej.e"),bi=byz("nej.v"),bU=byz("nej.ut"),bj=byz("nm.x"),bxI=byz("nm.i"),bp=byz("nm.d"),bY=byz("nm.m"),bR=byz("nm.l"),bC=byz("nm.m.r"),byx,byD;bC.cuE=NEJ.C();byx=bC.cuE.bS(bY.cW);byx.byG=function(){this.bCU="m-mdwned";this.dg();var bg=byA.bV(this.bA,"j-flag");this.bLd=bg[0];this.lZ=bg[1];this.bNz=bg[2];this.bIP=bg[3];this.Gj=bg[4];this.bLc=bg[5];this.Ov=bg[6];this.cu={parent:this.Ov,mopt:{limit:APP_CONF.offline_page,pager:{clazz:"m-page m-page-4"},tableResizerKey:"offline-complete",item:{klass:"m-xwgt-track-list-offline-complete",from:{fid:-2,isComplete:true,vkey:"offline_complete"}},cache:{data:{}},onemptylist:this.nL.byB(this),onafterlistrender:this.hR.byB(this),onpagechange:this.bzC.byB(this)}};bi.bM(this.bLd,"click",this.ei.byB(this));bi.bM(location,"beforeurlchange",this.gv.byB(this));bi.bM(this.bIP,"input",this.yu.byB(this));bi.bM(this.bIP,"focus",this.yu.byB(this));bi.bM(this.bIP,"keypress",this.bBU.byB(this,"key"));bi.bM(this.Gj,"click",this.bvx.byB(this));bi.bM(bp.cG,"searchdone",this.JU.byB(this));bi.bM(bp.cG,"listchange",this.ku.byB(this));this.eV={};this.cZ=1;this.gY="";this.bin();this.bLb();this.fM={searchStep:1,sortStep:1,ext:null};this.Fn=!1;this.coM="track_offline_complete_search-";this.cof="track_offline_complete"};byx.byT=function(blZ){this.cmx(blZ)};byx.dq=function(blZ){this.dC(blZ);var bP=blZ.param||cJO,dM=blZ.input||cJO,bs=bP.index||dM.index||1,bKg=bP.s||dM.s||this.bIP.value||"",cJN=bP.cache||dM.cache||!1,cFe=bP.fromSource||dM.fromSource;if(cJN){if(this.cZ==bs){if(!this.gY){document.mbody.scrollTop=this.eV[this.cZ]}else{this.Fn=!0;this.bIP.value=this.gY;this.mi(this.gY,1)}return}else{if(this.gY){this.gY="";this.bin()}}}this.cgC=!!cFe;this.mi(bKg,bs)};byx.eR=function(blZ){this.byU(!0)};byx.bin=function(){if(this.gY){bj.cVV(this.Gj,"icon.sp.svg#colse");byA.bK(this.bIP.parentNode,"z-edit")}else{bj.cVV(this.Gj,"icon.sp.svg#search");byA.bJ(this.bIP.parentNode,"z-edit")}};byx.yu=function(){var bAq=true,sE=null;return function(byy){sE&&clearTimeout(sE);var eF=this.bIP.value.replace(/(^\s*)|(\s*$)/g,"");if(eF.length==0){this.mi("",1);return}if(bAq){bAq=false;this.mi(eF,1);setTimeout(function(){bAq=true}.byB(this),500)}else{sE=setTimeout(function(){this.yu()}.byB(this),500)}}}();byx.bBU=function(bq,byy){var eF=this.bIP.value.replace(/(^\s*)|(\s*$)/g,"");if(!eF.length)return;if(bq=="btn"||byy.keyCode==13&&this.bIP.id==document.activeElement.id){this.mi(eF,1)}};byx.JU=function(byy){if(this.fM.searchStep!=0||byy.key!=this.coM+this.gY)return;this.fM.searchStep=1;if(this.fM.ext&&this.Fn){this.Fn=!1;this.fM.sortStep=0;bj.cL(4,function(cJN){cJN.Xy({key:this.cu.mopt.cache.lkey,field:this.fM.ext.field,order:this.fM.ext.order})}.byB(this))}};byx.bvx=function(byy){this.bIP.value="";this.yu()};byx.mi=function(eF,bs){var cJN=this.cu.mopt.cache;var bqZ=cJN.lkey;cJN.lkey=eF.length==0?this.cof:this.coM+eF;cJN.data.keyword=eF;this.cu.mopt.pager.index=bs;this.gY=eF;this.bin();this.cZ=bs;if(cJN.lkey!=this.cof){this.cu.mopt.item.from.data="search-"+eF;this.cu.mopt.cache.clear=true;this.fM.searchStep=0;byA.bT(this.lZ,"resData","search-"+eF);byA.bT(this.bNz,"resData","search-"+eF)}else{this.cu.mopt.item.from.data="";this.cu.mopt.cache.clear=true;this.fM.searchStep=1;byA.bT(this.lZ,"resData","");byA.bT(this.bNz,"resData","")}if(bqZ!=cJN.lkey)this.fM.ext=null;this.cu.mopt.item.mark=this.bAk(eF);byA.bJ(this.lZ,"z-dis");byA.bJ(this.bNz,"z-dis");if(!!this.byS)this.byS.bQ(this.byS);this.byS=bj.lo.bG(this.cu)};byx.bAk=function(eF){if(!eF.length){return function(ds){return ds}}else{var bLe=new RegExp(bj.pD(eF),"gi");return function(ds){if(!ds)return;return ds.replace(bLe,function($1){return'<span class="s-fc2">'+$1+"</span>"})}}};byx.nL=function(byy){this.cgC=!1;byA.bK(this.lZ,"z-dis");byA.bK(this.bNz,"z-dis");byy.value=byA.gk("m-mdwning-complete-empty",{lkey:this.cu.mopt.cache.lkey,key:bj.fg(this.cu.mopt.cache.data.keyword)})};byx.ku=function(blZ){if(!blZ||blZ.key!=this.cu.mopt.cache.lkey)return;switch(blZ.realAction){case"sort":this.fM.ext=blZ.ext;return;case"delete":break;default:this.fM.ext=null;break}var di=bj.cL(4,function(cJN){return cJN.hQ(blZ.key)});if(di){byA.bJ(this.lZ,"z-dis");byA.bJ(this.bNz,"z-dis")}else{byA.bK(this.lZ,"z-dis");byA.bK(this.bNz,"z-dis")}};byx.hR=function(byy){this.brL();if(this.cgC&&byy.options&&byy.options.offset==0&&!this.gY){var cBX=byA.bV(this.Ov,"z-play");if(!cBX||!cBX.length)cBX=byA.bV(this.Ov,"z-pause");if(cBX&&cBX.length){if(cBX[0]&&cBX[0].scrollIntoViewIfNeeded)cBX[0].scrollIntoViewIfNeeded()}}this.cgC=!1};byx.bzC=function(byy){if(byy.last==byy.index)return;if(this.cu.mopt.cache.lkey!=this.cof)return;dispatcher.dr(this.gq+"?index="+byy.index)};byx.Jh=function(){};byx.brL=function(){if(this.fM.searchStep==1&&this.fM.sortStep==1){this.bBW()}else{this.IX()}};byx.bBW=function(){byA.bK("field-sort-"+this.cu.mopt.item.from.data+"-"+this.cu.mopt.item.from.fid,"sort");if(this.fM.ext){byA.bK("field-"+this.fM.ext.field+"-"+this.cu.mopt.item.from.data+"-"+this.cu.mopt.item.from.fid,this.fM.ext.order)}};byx.IX=function(){byA.bJ("field-sort-"+this.cu.mopt.item.from.data+"-"+this.cu.mopt.item.from.fid,"sort")};byx.ei=function(byy){var bv=bi.cR(byy,"d:action");if(!bv)return;switch(byA.bT(bv,"action")){case"folder":var dY=bj.cL(11,function(cJN){return((cJN.fF()||cJO).storage||cJO).path});bD.bX("os.shellOpen",bj.bVn(dY));break}};byx.bLb=function(){var dY=bj.cL(11,function(cJN){return((cJN.fF()||cJO).storage||cJO).path});this.bLc.innerText=bj.bVn(dY)};byx.gv=function(byy){if(!!byy&&!!byy.oldValue&&byy.oldValue.path==this.gq){this.eV[this.cZ]=document.mbody.scrollTop}};byx.hA=function(bn){if(!bn||!bn.data)return;!!this.byS&&this.byS.bJk(bn);var byc=bn.data.cmd||bn.data.type;switch(byc){case"clear":break}};bj.cU("/m/offline/complete/",bC.cuE)})()</textarea>