<meta charset="utf-8"/> <textarea name="txt" id="m-drpl-hq-module"> <div class="g-wrap0 m-hot m-hot-col q-lrc"> <div class="u-head1 j-flag"> <h2 class="u-tit f-ff2">精品歌单</h2> <a class="help s-fc4" href="javascript:void(0)" title="如何成为精华歌单" data-href2="/topic?id=202001"><svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#help"></use></svg></a> <div class="filter f-fr j-flag"> <span class="s-fc3"><svg><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#filter"></use></svg></span><em class="f-fr s-fc3 j-flag">筛选</em> </div> </div> <ul class="m-hotlist f-flex j-flag"></ul> </div> </textarea> <textarea name="ntp" id="m-drpl-hq-cats"> <div class="titbar f-fs1">选择你喜欢的分类</div> <div class="tagcnt"> <div class="all tag f-cp j-flag"> 全部歌单 <svg class="slted"><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#type_selected"></use></svg> </div> <ul class="taglist taglist-full f-cb j-flag"> </ul> </div> </textarea> <textarea name="jst" id="m-drpl-hq-cats-cnt"> {list xlist as x} {if x}<li class="tag f-cp{if x.name==cat} z-slt{/if}" data-name="${x.name}">${x.name}{if x.name==cat}<svg class="slted"><use xlink:href="orpheus://orpheus/style/res/svg/icon.sp.svg#type_selected"></use></svg>{/if}</li>{/if} {/list} </textarea> <textarea name="jst" id="m-drpl-hq-list"> {var cat = needCat()} {list beg..end as y} {var x=xlist[y]} {if x} <li class="f-cb"> <div class="u-cover" ${commonJST('com-res', 1, x.id, '', true, from.fid, from.data)}> <a href="#/m/playlist/?id=${x.id}" class="lnk"> ${commonJST('com-img-d', x.coverImgUrl, '100y100', 'placeholder_cover_list.png')} </a> <span class="ci"> ${commonJST('com-svg', 'cover.sp.svg#earphone')}<span class="pc-1-${x.id}">${tenThousand(x.playCount)}</span> </span> <div class="corner f-pa"> ${commonJST('com-svg', 'cover.sp.svg#crown')} </div> <a class="ply f-pa f-cp" ${commonJST('com-res', 1, x.id, 'play', false, from.fid, from.data)}> ${commonJST('com-svg', 'cover.sp.svg#play_rb')} </a> </div> <div class="desc"> <h3 class="f-thide"> {if cat}<span class="tag u-type u-type-red">${x.tag|escape}</span>{/if} <a href="#/m/playlist/?id=${x.id}">${x.name|escape}</a> </h3> <p class="author"> <span class="f-thide name">by&nbsp;${commonJST('com-user-link',x.creator)}</span>${commonJST('com-user-type', x.creator)} </p> <p class="detail f-thide s-fc3">${x.copywriter|escape}</p> </div> </li> {/if} {/list} </textarea> <textarea name="js">(function(){var byz=NEJ.P,cJO=NEJ.O,byA=byz("nej.e"),bi=byz("nej.v"),bm=byz("nej.u"),bp=byz("nm.d"),bR=byz("nm.l"),bj=byz("nm.x"),byx,byD;bR.cXZ=NEJ.C();byx=bR.cXZ.bS(bR.EZ);byD=bR.cXZ.gZ;byx.eo=function(){this.Yl="m-drpl-hq-cats"};byx.byL=function(){this.byO();var bg=byA.bV(this.bA,"j-flag");this.Er=bg[1];this.bvF=bg[0];bi.bM(this.bvF,"click",this.bnd.byB(this))};byx.bnd=function(byy){this.dy();dispatcher.dr(this.gq+"?cat=全部")};byx.cJ=function(blZ){blZ.clazz="f-dn u-arrlay m-slttypes m-slttypes-filter "+(blZ.clazz||"");this.cK(blZ);if(!this.bH){this.bH=bp.mo.bG({onlistload:this.bnf.byB(this)})}this.dO([[this.Er,"click",this.bng.byB(this)]]);this.Yn=blZ.cat;this.gq=blZ.umi;var ih="frgmt_category_hq_playlist",bg=this.bH.byI(ih);if(bg&&bg.length){this.bnf({key:ih})}else{this.bH.fE({key:"frgmt_category_hq_playlist"})}};byx.bnf=function(blZ){if(blZ.key!="frgmt_category_hq_playlist")return;var bg=this.bH.byI(blZ.key);byA.eB(this.Er,"m-drpl-hq-cats-cnt",{xlist:bg,escapeCat:bj.cWg,cat:this.Yn});if(this.Yn=="全部"){byA.bK(this.bvF,"z-slt")}else{byA.bJ(this.bvF,"z-slt")}byA.bJ(this.bA.parentNode,"f-dn")};byx.dH=function(){this.bF("onhide");this.dI()};byx.bng=function(byy){var bk=bi.cR(byy,"d:name");if(!bk)return;bi.kC(byy);var hL=byA.bT(bk,"name");this.dy();hL=bj.cWg(hL);dispatcher.dr(this.gq+"?cat="+hL)}})();
(function(){var byz=NEJ.P,cJO=NEJ.O,byA=byz("nej.e"),bi=byz("nej.v"),bm=byz("nej.u"),bU=byz("nej.ut"),bj=byz("nm.x"),bxI=byz("nm.i"),bp=byz("nm.d"),gD=byz("nm.w"),bY=byz("nm.m"),bj=byz("nm.x"),bR=byz("nm.l"),bC=byz("nm.m.d"),byx,byD;bC.cZL=NEJ.C();byx=bC.cZL.bS(bY.cW);byx.byG=function(){this.bCU="m-drpl-hq";this.dg();var bg=byA.bV(this.bA,"j-flag");this.bLd=bg.shift();this.dbM=bg.shift();this.cpt=bg.shift();this.Ov=bg.shift();this.bL={limit:18,parent:this.Ov,cache:{klass:bp.dZ,data:{},clear:true},item:{klass:"m-drpl-hq-list",tenThousand:bj.bED,commonJST:ctl.commonJST.cFB,needCat:this.dbO.byB(this),from:{fid:6}},onemptylist:this.bAe.byB(this,"暂无内容"),onbeforelistrender:function(byy){bj.bim(byy.parent)}.byB(this),onafterlistrender:function(byy){bj.bnO("li",byy.parent)}.byB(this)};bi.bM(this.dbM,"click",this.bnl.byB(this))};byx.byT=function(blZ){this.dO([[location,"beforeurlchange",this.gv.byB(this)],[bp.dZ,"itemchange",this.cXj.byB(this,this.bL.parent,1)]]);this.cmx(blZ)};byx.dq=function(blZ){this.dC(blZ);var bP=blZ.param||cJO;if(bP.cache&&this.Yn==bj.cWg(bP.cat)){document.mbody.scrollTop=this.eV;return}this.Yn=blZ.param.cat;this.cpt.innerText=this.Yn;this.bL.cache.data.cat=this.Yn;this.bL.cache.lkey="playlist_hq_cat-"+bj.cWg(this.Yn);if(this.cw)this.cw.bQ();this.cw=gD.cmG.bG(this.bL)};byx.dbO=function(){return this.Yn=="全部歌单"||this.Yn=="全部"};byx.bnl=function(byy){bi.bQd(byy);if(this.zU){this.zU.bQ()}else{this.zU=bR.cXZ.bG({destroyable:!0,parent:this.dbM,cat:this.Yn,umi:this.gq,onhide:this.bnv.byB(this)})}};byx.bnv=function(){if(this.zU){delete this.zU}};byx.JZ=function(byy){this.HI(byy);this.hA({data:{cmd:"nonet"}})};byx.tj=function(byy){var bl=byA.Vy(byy.data.id);if(!!bl)bl.bGB(byy)};byx.eR=function(){this.byU(!0);this.RO();bj.gM("/m/disc",{cmd:"hideNonet"})};byx.gv=function(byy){if(!!byy&&!!byy.oldValue&&byy.oldValue.path==this.gq){this.eV=document.mbody.scrollTop}};byx.hA=function(byy){if(!byy||!byy.data||!byy.data.cmd)return;switch(byy.data.cmd){case"clear":break;case"nonet":this.cnu=!0;bj.gM("/m/disc",{cmd:"showNonet"});break}};bj.cU("/m/disc/playlist/highquality/",bC.cZL,!0)})()</textarea>